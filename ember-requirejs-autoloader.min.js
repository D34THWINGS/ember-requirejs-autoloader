/* Ember RequireJS Autoloader v1.0.4 | Copyright (c) 2014 Benjamin Delamarre | The MIT License (MIT) */
define(["ember","jquery"],function(e,t){return e.Object.extend({init:function(t){this._getRoutes=function(e){var t=this;if(e.routes instanceof Array){e.routes.forEach(function(e){if(typeof e==="string"){t.route(e)}if(typeof e==="object"){if(typeof e.name==="undefined"){console.warn("Your configuration file contains a route object without a name.");return}var n=[e.name],r="route";if(typeof e.type!="undefined")r=e.type;if(typeof e.options==="object")n.push(e.options);if(e.routes instanceof Array)n.push(function(){this.routeMapping=t.routeMapping;t.routeMapping.call(this,e)});if(r=="route")t.route.apply(t,n);if(r=="resource"){t.resource.apply(t,n)}}})}};var n=e.Object.extend({appName:"EmberApp",appFilePath:"../app.json",autoload:["controllers","models","views"],app:{},router:e.Router.extend({}),afterLoading:null,beforeCreate:null,afterCreate:null,routeMapping:this._getRoutes,afterRouteMapping:null,deferred:false,autoCreate:true});var r=n.extend(t||{});this._baseSettings=new n;this.settings=new r;this.App=this.settings.app;this.appJSON=null;if(!this.settings.deferred)this.loadApp()},getBaseSettings:function(e){if(typeof e!="undefined")return this._baseSettings.get(e);return this._baseSettings},loadApp:function(){var e=this;t.getJSON(e.settings.appFilePath,function(t){var n=e.App;n.Router=e.settings.router;e.appJSON=t;if(typeof t.app_name==="string")e.settings.appName=t.app_name;if(typeof t["includes"]!="undefined"&&t["includes"]instanceof Array){require(t["includes"])}n.Router.map(function(){var n=this;n.routeMapping=e._getRoutes;if(typeof e.settings.routeMapping==="function")e.settings.routeMapping.call(this,t);if(typeof e.settings.afterRouteMapping==="function")e.settings.afterRouteMapping.call(this,t)});var r={names:[],paths:[]};e.settings.autoload.forEach(function(e){if(t[e]instanceof Array){t[e].forEach(function(e){if(typeof e==="string"){r.names.push(e.split("/")[e.split("/").length-1]);r.paths.push(e)}if(e instanceof Array){r.names.push(e[0]);r.paths.push(e[1])}})}});require(r.paths,function(){var i=arguments;r.names.forEach(function(e,t){n[e]=i[t]});if(typeof this.settings.afterLoading==="function"){e.settings.afterLoading.call(e.App)}if(e.settings.autoCreate){e.create(t)}})})},create:function(){if(typeof this.settings.beforeCreate==="function")this.settings.beforeCreate.call(this.App,this.appJSON);var t=window[this.settings.appName]=e.Application.create(this.App);if(typeof this.settings.afterCreate==="function")this.settings.afterCreate.call(t,this.appJSON)}})})